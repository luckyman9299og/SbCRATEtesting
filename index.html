<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crate Unbox Simulator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: white;
      text-align: center;
    }
    h1 {
      margin-top: 20px;
    }
    .crate-buttons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
    }
    button {
      background: #222;
      color: white;
      border: 2px solid #555;
      border-radius: 10px;
      padding: 10px 20px;
      cursor: pointer;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: 0.2s;
    }
    button:hover {
      background: #333;
    }
    button img {
      width: 60px;
      height: 60px;
      border-radius: 5px;
    }
    #unboxBtn, #rerollBtn {
      font-size: 20px;
      margin: 15px;
      padding: 10px 25px;
    }
    #unboxed {
      margin-top: 30px;
      font-size: 22px;
    }
  </style>
</head>
<body>

  <h1>游꾸 Crate Unbox Simulator</h1>

  <div class="crate-buttons">
    <button onclick="selectCrate('standard')"><img src="standardcrate.png">Standard Crate</button>
    <button onclick="selectCrate('megarock')"><img src="megarockcrate.png">Megarock Crate</button>
    <button onclick="selectCrate('bob')"><img src="bobcrate.png">Bob Crate</button>
    <button onclick="selectCrate('barzil')"><img src="barzilcrate.png">Barzil Crate</button>
    <button onclick="selectCrate('overkill')"><img src="overkillcrate.png">Overkill Crate</button>
  </div>

  <div>
    <button id="unboxBtn" onclick="unbox()" disabled>Unbox</button>
    <button id="rerollBtn" onclick="reroll()" disabled>Reroll</button>
  </div>

  <div id="unboxed"></div>

  <script>
    const crates = {
      standard: {
        uncommons: { chance: 79, items: ["Slime", "Water", "Leaves", "Ink", "Forcefield", "Explosion", "Cartoony Water", "Butterflies", "Blue Explosion", "Birds"], color: "游릭" },
        rares: { chance: 18, items: ["Pixilated Lightning", "Plasma Blast", "Painted", "Fireworks"], color: "游댯" },
        epics: { chance: 2.5, items: ["Psychic", "Poisonous"], color: "游릮" },
        legendary: { chance: 0.5, items: ["Lightning"], color: "游리" }
      },
      megarock: {
        uncommons: { chance: 70, items: ["Pebble", "Sand", "Stone", "Rocky"], color: "游릭" },
        rares: { chance: 20, items: ["Metallic", "Steel Burst", "Shatter"], color: "游댯" },
        epics: { chance: 8, items: ["Crystal Core", "Geode"], color: "游릮" },
        legendary: { chance: 2, items: ["Diamond Pulse"], color: "游리" }
      },
      bob: {
        uncommons: { chance: 60, items: ["Snow", "Retro", "Heart", "Sandy", "Evil", "Bread", "Binary"], color: "游릭" },
        rares: { chance: 34, items: ["Light", "Pixel Pubbles", "Rays", "Eye", "Ice Shards"], color: "游댯" },
        epics: { chance: 5, items: ["Phoenix", "Fractal", "Cursed", "Gravity"], color: "游릮" },
        legendary: { chance: 0.85, items: ["Darkness", "Holy"], color: "游리" },
        mythic: { chance: 0.15, items: ["Portal"], color: "游댮" }
      },
      barzil: {
        uncommons: { chance: 65, items: ["Sunburst", "Grass", "Rain", "Clouds", "Glitter"], color: "游릭" },
        rares: { chance: 25, items: ["Spectrum", "Emerald Sparks", "Golden Trail"], color: "游댯" },
        epics: { chance: 8, items: ["Aurora", "Starfall"], color: "游릮" },
        legendary: { chance: 2, items: ["Galaxy"], color: "游리" }
      },
      overkill: {
        uncommons: { chance: 55, items: ["Dust", "Flash", "Impact", "Echo"], color: "游릭" },
        rares: { chance: 30, items: ["Blaze", "Shatterstorm", "Overdrive"], color: "游댯" },
        epics: { chance: 10, items: ["Rift", "Nova"], color: "游릮" },
        legendary: { chance: 4, items: ["Annihilation"], color: "游리" },
        mythic: { chance: 1, items: ["Singularity"], color: "游댮" }
      }
    };

    let selectedCrate = null;
    let lastUnbox = null;

    function selectCrate(crate) {
      selectedCrate = crate;
      document.getElementById("unboxBtn").disabled = false;
      document.getElementById("rerollBtn").disabled = true;
      document.getElementById("unboxed").innerText = `Selected ${crate.charAt(0).toUpperCase() + crate.slice(1)} crate. Press Unbox!`;
    }

    function getRarity(crate) {
      const roll = Math.random() * 100;
      let cumulative = 0;
      for (const [rarity, data] of Object.entries(crate)) {
        cumulative += data.chance;
        if (roll <= cumulative) return rarity;
      }
      return "uncommons";
    }

    function unbox() {
      if (!selectedCrate) return;
      const crate = crates[selectedCrate];
      const rarityKey = getRarity(crate);
      const data = crate[rarityKey];
      const item = data.items[Math.floor(Math.random() * data.items.length)];
      const result = `${data.color} You unboxed: ${item} (${rarityKey.charAt(0).toUpperCase() + rarityKey.slice(1)})`;
      document.getElementById("unboxed").innerText = result;
      lastUnbox = selectedCrate;
      document.getElementById("rerollBtn").disabled = false;
    }

    function reroll() {
      if (!lastUnbox) return;
      selectedCrate = lastUnbox;
      unbox();
    }
  </script>
</body>
</html>
